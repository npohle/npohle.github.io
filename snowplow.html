<html>
<head>
    <title>Snowplow Test</title>
</head>
<body>
    <h1>Snowplow Forms Test</h1>

    <!--
    <form id="myFormId" action="https://allianz-emea-63-dev07.adobecqms.net" method="get">
    <a href="#link1">test link 1</a><br>
    <a href="#link2">test link 2</a><br>
    <input id="idOfInput" name="nameOfInput" value="defaultText">
    <button type="submit">Submit</button>
    </form>
    -->
    
<script>
        function preparePage() {
        var div = document.createElement('div');

        div.innerHTML = '<form id="myFormId" action="https://allianz-emea-63-dev07.adobecqms.net" method="get">';
        div.innerHTML += '<a href="#link1">test link 1</a><br>';
        div.innerHTML += '<a href="#link2">test link 2</a><br>';
        div.innerHTML += '<input id="idOfInput" name="nameOfInput" value="defaultText">';
        div.innerHTML += '<button type="submit">Submit</button>';
        div.innerHTML += '</form>';

        document.body.appendChild(div);
    }

    function loadSnowplow() {
        ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
                                            p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
                                                                                             };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
                                            //n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","//d1fc8wv8zag5ca.cloudfront.net/2.9.2/sp.js","snowplow"));
                                            n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","snowplow.js","snowplow"));



        window.snowplow('newTracker', 'oneMarketingSnowplow', 'playground.lce.grnry.io/api', {
            appId: 'cfe23a',
            platform: 'web'
            //post: true,
            //stateStorageStrategy: 'localStorage'
        });

        // first ping would occur after 12 seconds, and subsequent pings every 10 seconds as long as the user continued to browse the page actively
        //window.snowplow('enableActivityTracking', 12, 10);

        window.snowplow('trackPageView');

        window.snowplow('enableLinkClickTracking');

        window.snowplow('enableFormTracking');
        
        // window.snowplow('');
    }


    preparePage();
    loadSnowplow();
</script>    
</body>

</html>
